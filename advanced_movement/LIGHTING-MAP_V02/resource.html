<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LightingMap | </title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined">

    <link href="https://fonts.googleapis.com/css?family=PT+Sans" rel="stylesheet">
    <link rel="stylesheet" href="assets/styles/style_search.css">
    <link rel="stylesheet" href="assets/styles/base.css">
    <link rel="stylesheet" href="assets/styles/style_resource.css">

    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            const userData = JSON.parse(localStorage.getItem('userData'));
            if (!userData) {
                window.location.href = 'index.html';
            } else {
                document.title = "Lighting-Map | "+ userData.surname;
            }
        });
    </script>

    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD1Ch3HNv8Mq0S4zztoCea_kzW_VQvPKVg&v=beta&libraries=marker&libraries=places" defer></script>

    <script src="assets/scripts/resource.js" defer></script>
    <script src="assets/scripts/initMap.js" defer></script>
    <script src="assets/scripts/deletePoint.js" defer></script>
    <script src="assets/scripts/search.js" defer></script>
    <script src="assets/scripts/logout.js" defer></script>
    <script src="assets/scripts/popup.js" defer></script>
    <script src="assets/scripts/selectColorCabinet.js" defer></script>
    <script src="assets/scripts/colorGenerator.js" defer></script>
    <script src="assets/scripts/initMapCabinet.js" defer></script>
    <script src="assets/scripts/initMapType.js" defer></script>
    <script src="assets/scripts/selectType.js" defer></script>
    <script src="assets/scripts/initMapLot.js" defer></script>
    <script src="assets/scripts/selectLot.js" defer></script>
    <script src="assets/scripts/downloadReport.js" defer></script>
    <script src="assets/scripts/filters.js" defer></script>

    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.js'></script>
    <script src="https://unpkg.com/@googlemaps/markerclusterer/dist/index.min.js"></script>
    <script src="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/markerclusterer.js"></script>
    <link rel="icon" href="./assets/logos/faviconWhite.png" type="image/png" media="(prefers-color-scheme: dark)">
    <link rel="icon" href="./assets/logos/faviconBlack.png" type="image/png" media="(prefers-color-scheme: light)">
    
</head>
<body>
    
    <header>
        <img src="./assets/logos/whiteLogoNoBackground.png" class="logo-image"></img>

<form id="search-bar" class="search-local">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=delete" />
    <input class="input" id="input" placeholder="Cerca punto luce" required="" type="text">
    <span class="material-symbols-outlined" id="delete-btn">
        delete
    </span>
    <div id="suggestions" class="suggestions-box"></div>
    <label for="searchFilter">Cerca per:</label>
    <select class="searchFilter" id="searchFilter">
        <option value="NumeroPalo" selected>Numero palo</option>
        <option value="Quadro">N° Quadro</option>
        <option value="Lotto">Lotto</option>
    </select>

    <button type="submit" id="btnSearchBar" class="searchBtn">
        <div class="icon">
            <ion-icon name="search-outline"></ion-icon>
        </div>
    </button>

    <button type="button" class="iconArrowLeft" id="arrowLeft">
        <ion-icon name="arrow-back-outline"></ion-icon>
    </button>
    
    <button type="button" class="iconArrowRight" id="arrowRight">
        <ion-icon name="arrow-forward-outline"></ion-icon>
    </button>
</form>


<!-- icons -->
<script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>



        <button class="logout-btn" id="btnLogout">
        Logout

        </button>
    </header>
    <nav>

    
        <div class="group">
            <label for="city">Città:</label>
            <select id="city"></select>
        </div>
        <div class="group">
    <label for="city">Evidenzia Per:</label>
    <div class="custom-select-wrapper">
        <select id="highlight" class="custom-select">
            <option value>Segnalazione</option>
            <option value="MARKER">Quadro</option>
            <option value="PROPRIETA">Proprietà</option>
            <option value="LOTTO">Lotto</option>
        </select>
    </div>
    </div>
    <div class="group">
    <label for="city">Filtra Per:</label>
    <div class="custom-select-wrapper">
        <select id="filter" class="custom-select">
            <option value="SELECT">Nessun filtro</option>

            <option value="REPORTED">Segnalazioni aperte</option>
            <option value="MARKER">Quadro</option>
            <!--<option value="PROPRIETA">Proprietà</option>
            <option value="LOTTO">Lotto</option>-->
        </select>
        
    </div>
    </div>
</div>
          
                
</label>
<span class="slider-text" id="spanSlider" ></span>
</div>

    </nav>
    <section class="map-container" style="display: block;">
    
        <button id="info-btn" class="material-icons-outlined base-btn" title="Visualizza panoramica impianto">info</button>
        <button id="download-btn" class="material-icons-outlined base-btn" title="Scarica report segnalazioni">download</button>
        <a id="mybtn" href="https://www.torellistudio.com/studio/ufaq-category/utilizzo-lighting-map/" target="_blank"> 
            <button id="help-btn" class="material-icons-outlined base-btn" title="Visita FAQ sul sito">help</button>
        </a>
        <button id="my_location" class="material-icons-outlined" onclick="goToActualDestination()" title="Vai alla posizione attuale">my_location</button>


        <div id="map"></div>
        
        <!--<div class="cabinet-tag"></div>-->
    </section>
    
    <section class="streetview-container" style="display: none;">
        <button id="streetview-close-btn" class="material-icons-outlined base-btn" onclick="toggleStreetView()">close</button>
        <div id="streetview"></div>
    </section>
    
    
</body>
</html>